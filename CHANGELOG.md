# 变更日志

本项目的所有重要变更都将记录在此文件中。

格式遵循 [Keep a Changelog](https://keepachangelog.com/en/1.0.0/) 规范，
项目版本遵循 [语义化版本](https://semver.org/spec/v2.0.0.html) 规范。

## [v1.0.1] - 2026-02-16

### 错误处理优化
- 🎯 实现智能错误响应格式判断，根据请求类型返回HTML或JSON
- 🔍 支持传统AJAX和现代Fetch API请求的识别
- 📱 优化浏览器直接访问和网页自动请求的处理逻辑

### 安全增强
- 🛡️ 统一路径验证工具函数，防范路径遍历攻击
- 🔒 增强本地路径验证，支持URL编码路径解析
- 📋 优化配置值验证逻辑，提高系统安全性

### 功能改进
- 🖼️ 新增站点图标地址配置，支持本地和远程图标
- 📄 优化备案信息显示逻辑，由数据库开关控制
- 🔧 修复数据库初始化时的语法错误
- 📱 优化前端站点名称和图标处理

### 性能和兼容性
- ⚡ 减少不必要的API响应数据，提高传输效率
- 🎯 优化前端GitHub链接相关代码
- 🔄 确保所有配置项使用统一的验证标准

## [v1.0.0] - 2026-02-15

### 核心功能
- 🖼️ 图片上传和管理系统
- 🔗 直链访问随机图片
- 📁 图片分类管理功能
- 👤 用户认证和授权系统
- 🛠️ 管理员后台管理界面
- 🔄 系统更新和版本管理功能

### 安全特性
- 🔒 JWT 令牌认证机制
- 🛡️ 密码哈希存储
- 📋 基于角色的权限控制
- 🚫 API 文档访问权限限制
- 🔐 API 速率限制和安全防护（待实现）

### 性能优化
- 📦 图片缓存机制
- ⚡ 数据库查询优化
- 📈 请求响应时间监控
- 🎯 资源使用效率提升

# 变更日志

本项目的所有重要变更都将记录在此文件中。

格式遵循 [Keep a Changelog](https://keepachangelog.com/en/1.0.0/) 规范，
项目版本遵循 [语义化版本](https://semver.org/spec/v2.0.0.html) 规范。

## [v1.0.3] - 2026-02-16

### 功能改进
- 📦 实现批量下载功能，支持选中图片打包下载
- 📱 优化移动图片功能，支持选择目标分类
- 🗑️ 实现批量删除功能，支持批量删除选中图片
- 🔄 改进分类管理，支持动态加载分类列表

### 用户体验
- 🎨 优化移动和删除弹窗，显示图片名称而非ID
- 📱 修复上下页按钮无法点击的问题
- 🔄 修复总页数计算错误的问题
- 🚀 提高页面加载速度和响应性能

### 系统稳定性
- 🛡️ 增强错误处理机制，显示具体错误原因
- 🔒 确保移动图片时只能移动到已存在的分类
- 📁 解决上传失败时生成空文件的问题
- ⏰ 设置批量下载临时文件15分钟自动清理

## [v1.0.2] - 2026-02-16

### 性能优化
- 🚀 实现数据库连接池，减少连接创建开销
- ⚡ 新增配置缓存机制，降低数据库查询频率
- 📱 优化前端并行请求，提高页面加载速度
- 🎯 合并数据库查询，减少数据库访问次数

### 系统稳定性
- 🛡️ 增强错误处理和容错机制
- 🔄 实现连接池初始化失败的降级处理
- 📋 优化缓存过期策略，确保数据一致性
- 🎯 提高系统并发处理能力

### 用户体验
- ⚡ 管理员后台页面加载速度提升50%以上
- 📱 消除页面加载时的卡顿问题
- 🔄 系统响应更加流畅，操作延迟明显减少
- 🎯 并发用户访问时性能更加稳定

## [v1.0.1] - 2026-02-16

### 错误处理优化
- 🎯 实现智能错误响应格式判断，根据请求类型返回HTML或JSON
- 🔍 支持传统AJAX和现代Fetch API请求的识别
- 📱 优化浏览器直接访问和网页自动请求的处理逻辑

### 安全增强
- 🛡️ 统一路径验证工具函数，防范路径遍历攻击
- 🔒 增强本地路径验证，支持URL编码路径解析
- 📋 优化配置值验证逻辑，提高系统安全性

### 功能改进
- 🖼️ 新增站点图标地址配置，支持本地和远程图标
- 📄 优化备案信息显示逻辑，由数据库开关控制
- 🔧 修复数据库初始化时的语法错误
- 📱 优化前端站点名称和图标处理

### 性能和兼容性
- ⚡ 减少不必要的API响应数据，提高传输效率
- 🎯 优化前端GitHub链接相关代码
- 🔄 确保所有配置项使用统一的验证标准

## [v1.0.0] - 2026-02-15

### 核心功能
- 🖼️ 图片上传和管理系统
- 🔗 直链访问随机图片
- 📁 图片分类管理功能
- 👤 用户认证和授权系统
- 🛠️ 管理员后台管理界面
- 🔄 系统更新和版本管理功能

### 安全特性
- 🔒 JWT 令牌认证机制
- 🛡️ 密码哈希存储
- 📋 基于角色的权限控制
- 🚫 API 文档访问权限限制
- 🔐 API 速率限制和安全防护（待实现）

### 性能优化
- 📦 图片缓存机制
- ⚡ 数据库查询优化
- 📈 请求响应时间监控
- 🎯 资源使用效率提升
